{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/aouassalim/Desktop/Salim/nodejs_practice/openclassrooms_02/frontend/my-app/components/chat.js\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Container from '@material-ui/core/Container';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/router';\nimport io from 'socket.io-client';\nimport ScrollToBottom from 'react-scroll-to-bottom';\nimport { css } from 'glamor';\nimport Users_component from './../components/users';\nvar CSS_SCROLL = css({\n  height: 400,\n  overflow: \"auto\",\n  overflowX: \"hidden\"\n});\nvar styles = {\n  container: {\n    backgroundColor: \"white\",\n    height: \"570px\",\n    position: \"fixed\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    borderRadius: \"6px\",\n    textAlign: \"center\",\n    maxWidth: \"600px\",\n    minWidth: \"20%\",\n    padding: \"0\"\n  },\n  topbar: {\n    position: \"relative\",\n    backgroundColor: \"#3f51b5\",\n    border: \"2px solid white\",\n    borderRadius: \"6px\",\n    height: \"60px\",\n    width: \"100%\"\n  },\n  pastille: {\n    color: \"#a8ffa8\"\n  },\n  pseudo: {\n    color: \"white\",\n    position: \"absolute\",\n    top: \"0%\",\n    left: \"0%\",\n    paddingLeft: \"30px\",\n    marginTop: \"15px\",\n    fontSize: \"20px\"\n  },\n  close: {\n    position: \"absolute\",\n    top: \"0%\",\n    right: \"0%\",\n    height: \"15px\",\n    width: \"15px\",\n    paddingTop: \"5px\",\n    paddingRight: \"5px\"\n  },\n  people: {\n    position: \"absolute\",\n    top: \"0%\",\n    right: \"0%\",\n    height: \"20px\",\n    width: \"20px\",\n    paddingTop: \"5px\",\n    paddingRight: \"35px\"\n  },\n  sub_container: {\n    position: \"absolute\",\n    padding: \"0\"\n  },\n  hr: {\n    padding: \"0\"\n  },\n  input_container: {\n    position: \"relative\",\n    padding: \"0\"\n  },\n  input: {\n    position: \"absolute\",\n    left: \"0%\",\n    width: \"68%\",\n    paddingLeft: \"10px\",\n    marginRight: \"20px\"\n  },\n  button: {\n    position: \"absolute\",\n    right: \"0%\",\n    marginRight: \"10px\",\n    height: \"76px\",\n    width: \"25%\"\n  },\n  messages: {\n    overflowY: \"scroll\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: \"400px\",\n    overflowX: \"hidden\"\n  },\n  incomingMessage: {\n    borderRadius: \"8px\",\n    backgroundColor: \"#1982FC\",\n    minHeight: \"20px\",\n    width: \"100px\",\n    textAlign: \"center\",\n    padding: \"20px 5px 20px 5px\"\n  },\n  adminMessage: {\n    borderRadius: \"8px\",\n    backgroundColor: \"rgb(236, 236, 236)\",\n    minHeight: \"20px\",\n    width: \"100px\",\n    textAlign: \"center\",\n    padding: \"20px 5px 20px 5px\"\n  },\n  myMessage: {\n    borderRadius: \"8px\",\n    backgroundColor: \"#43CC47\",\n    minHeight: \"20px\",\n    width: \"100px\",\n    textAlign: \"center\",\n    padding: \"20px 5px 20px 5px\"\n  },\n  incomingMessageList: {\n    height: \"100%\",\n    marginTop: \"5px\"\n  },\n  myMessageList: {\n    height: \"100%\",\n    marginRight: \"10px\"\n  },\n  pseudoMymessage: {\n    position: \"absolute\",\n    marginTop: \"20px\",\n    color: \"#a2a2a2\",\n    fontSize: \"15px\",\n    marginLeft: \"-40px\"\n  },\n  pseudoIncomingMessage: {\n    position: \"absolute\",\n    marginTop: \"-40px\",\n    color: \"#a2a2a2\",\n    fontSize: \"15px\",\n    marginLeft: \"110px\"\n  },\n  itemIncomingMessage: {\n    position: \"relative\",\n    marginLeft: \"20px\",\n    marginBottom: \"-60px\"\n  },\n  itemMyMessage: {\n    position: \"relative\",\n    marginRight: \"50px\",\n    minHeight: \"0px\"\n  },\n  containerItemMyMessage: {\n    position: \"absolute\",\n    right: \"0%\"\n  }\n};\nvar socket;\n\nvar Chat_component = function Chat_component(_ref) {\n  var location = _ref.location;\n  var router = useRouter();\n\n  var _useState = useState(\"\"),\n      name = _useState[0],\n      setName = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      room = _useState2[0],\n      setRoom = _useState2[1];\n\n  var _useState3 = useState([]),\n      messages = _useState3[0],\n      setMessages = _useState3[1];\n\n  var _useState4 = useState([]),\n      message = _useState4[0],\n      setMessage = _useState4[1];\n\n  var _useState5 = useState(true),\n      openModal = _useState5[0],\n      setOpenModal = _useState5[1];\n\n  var ENDPOINT = \"localhost:8080\";\n\n  var _useState6 = useState([]),\n      listUsers = _useState6[0],\n      setListUsers = _useState6[1];\n\n  useEffect(function () {\n    var _router$query = router.query,\n        name = _router$query.name,\n        room = _router$query.room;\n    socket = io(ENDPOINT);\n\n    if (name != undefined && room != undefined) {\n      setName(name);\n      setRoom(room);\n      socket.emit('join', {\n        name: name,\n        room: room\n      }, function (error) {\n        if (error) console.log(\"error : \".concat(error));\n      });\n    }\n\n    return function () {\n      if (name != undefined && room != undefined) {\n        socket.emit('disconnect');\n        socket.disconnect();\n      }\n    };\n  }, [router, ENDPOINT]);\n  useEffect(function () {\n    socket.on('newMessage', function (message) {\n      setMessages(function (messages) {\n        return [].concat(_toConsumableArray(messages), [message]);\n      });\n    });\n    socket.on('listUsers', function (data) {\n      setListUsers(data.users);\n    });\n  }, [router]);\n  useEffect(function () {\n    console.log(\"valeur changer\", listUsers);\n  }, [listUsers]);\n  useEffect(function () {\n    console.log(\"state modale a changer\");\n  }, [openModal]);\n\n  var sendMessage = function sendMessage(e) {\n    e.preventDefault();\n\n    if (message != \"\" && room != undefined && name != undefined) {\n      socket.emit('sendMessage', {\n        user: name,\n        text: message\n      }, function () {\n        setMessage('');\n      });\n    }\n  };\n\n  var disconnect = function disconnect(e) {\n    e.preventDefault();\n    socket.emit('disconnect');\n    socket.disconnect();\n    router.push(\"/join\");\n  };\n\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 13\n    }\n  }, __jsx(Container, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 9\n    }\n  }, __jsx(Container, {\n    style: styles.sub_container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 13\n    }\n  }, __jsx(Container, {\n    style: styles.topbar,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 17\n    }\n  }, __jsx(\"p\", {\n    style: styles.pseudo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    style: styles.pastille,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 46\n    }\n  }, \"\\u2022 \"), name), __jsx(\"img\", {\n    style: styles.people,\n    src: \"/images/people.png\",\n    onClick: function onClick() {\n      return setOpenModal(!openModal);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 21\n    }\n  }), __jsx(\"img\", {\n    style: styles.close,\n    src: \"/images/close.png\",\n    onClick: function onClick(e) {\n      return disconnect(e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 21\n    }\n  })), __jsx(Grid, {\n    container: true,\n    style: styles.messages,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 17\n    }\n  }, __jsx(ScrollToBottom, {\n    id: \"scrollToBottom\",\n    className: \"\".concat(CSS_SCROLL),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 17\n    }\n  }, __jsx(Grid, {\n    container: true,\n    style: styles.incomingMessageList,\n    direction: \"column\",\n    spacing: 8,\n    wrap: \"nowrap\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 21\n    }\n  }, messages.map(function (message, i) {\n    if (message.user == name.trim().toLowerCase()) {\n      return __jsx(Grid, {\n        item: true,\n        key: i,\n        id: \"inboxMessage\".concat(i),\n        style: styles.itemIncomingMessage,\n        xs: 12,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 49\n        }\n      }, __jsx(Grid, {\n        container: true,\n        key: \"\".concat(i, \"2\"),\n        style: styles.containerItemIncomingMessage,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 45\n        }\n      }, __jsx(Grid, {\n        item: true,\n        key: \"\".concat(i, \"3\"),\n        style: styles.incomingMessage,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 37\n        }\n      }, message.text), __jsx(Grid, {\n        key: \"\".concat(i, \"4\"),\n        item: true,\n        style: styles.pseudoIncomingMessage,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 49\n        }\n      }, message.user)));\n    } else if (message.user == \"admin\") {\n      return __jsx(Grid, {\n        item: true,\n        key: i,\n        id: \"inboxMessage\".concat(i),\n        style: styles.itemIncomingMessage,\n        xs: 12,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 49\n        }\n      }, __jsx(Grid, {\n        container: true,\n        key: \"\".concat(i, \"2\"),\n        style: styles.containerItemIncomingMessage,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 45\n        }\n      }, __jsx(Grid, {\n        item: true,\n        key: \"\".concat(i, \"3\"),\n        style: styles.adminMessage,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 37\n        }\n      }, message.text), __jsx(Grid, {\n        key: \"\".concat(i, \"4\"),\n        item: true,\n        style: styles.pseudoIncomingMessage,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 49\n        }\n      }, \"Admin\")));\n    } else {\n      return __jsx(Grid, {\n        item: true,\n        key: i,\n        id: \"myMessage\".concat(i),\n        style: styles.itemMyMessage,\n        xs: 12,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 49\n        }\n      }, __jsx(Grid, {\n        item: true,\n        container: true,\n        key: \"\".concat(i, \"2\"),\n        style: styles.containerItemMyMessage,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 45\n        }\n      }, __jsx(Grid, {\n        item: true,\n        key: \"\".concat(i, \"3\"),\n        style: styles.pseudoMymessage,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 49\n        }\n      }, message.user), __jsx(Grid, {\n        item: true,\n        key: \"\".concat(i, \"4\"),\n        style: styles.myMessage,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 49\n        }\n      }, message.text)));\n    }\n  })))), __jsx(Users_component, {\n    users: listUsers,\n    open: openModal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 17\n    }\n  }), __jsx(Grid, {\n    container: true,\n    style: styles.input_container,\n    fluid: \"true\",\n    diction: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 17\n    }\n  }, __jsx(\"hr\", {\n    style: styles.hr,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 21\n    }\n  }), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 21\n    }\n  }, __jsx(TextField, {\n    id: \"outlined-multiline-static\",\n    label: \"Message\",\n    multiline: true,\n    rows: 2,\n    variant: \"filled\",\n    style: styles.input,\n    onChange: function onChange(e) {\n      return setMessage(e.target.value);\n    },\n    value: message,\n    onKeyPress: function onKeyPress(e) {\n      return e.key === \"Enter\" ? sendMessage(e) : null;\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 25\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 21\n    }\n  }, __jsx(Button, {\n    id: \"\",\n    label: \"Entrer\",\n    color: \"primary\",\n    size: \"large\",\n    variant: \"contained\",\n    style: styles.button,\n    onClick: function onClick(e) {\n      return sendMessage(e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 25\n    }\n  }, \"Envoyer\"))))));\n};\n\nexport default Chat_component;","map":{"version":3,"sources":["/Users/aouassalim/Desktop/Salim/nodejs_practice/openclassrooms_02/frontend/my-app/components/chat.js"],"names":["Container","TextField","Button","Grid","useEffect","useState","useRouter","io","ScrollToBottom","css","Users_component","CSS_SCROLL","height","overflow","overflowX","styles","container","backgroundColor","position","top","left","transform","borderRadius","textAlign","maxWidth","minWidth","padding","topbar","border","width","pastille","color","pseudo","paddingLeft","marginTop","fontSize","close","right","paddingTop","paddingRight","people","sub_container","hr","input_container","input","marginRight","button","messages","overflowY","display","flexDirection","incomingMessage","minHeight","adminMessage","myMessage","incomingMessageList","myMessageList","pseudoMymessage","marginLeft","pseudoIncomingMessage","itemIncomingMessage","marginBottom","itemMyMessage","containerItemMyMessage","socket","Chat_component","location","router","name","setName","room","setRoom","setMessages","message","setMessage","openModal","setOpenModal","ENDPOINT","listUsers","setListUsers","query","undefined","emit","error","console","log","disconnect","on","data","users","sendMessage","e","preventDefault","user","text","push","map","i","trim","toLowerCase","containerItemIncomingMessage","target","value","key"],"mappings":"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","sourcesContent":["import Container from '@material-ui/core/Container'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/router'\nimport io from 'socket.io-client';\nimport ScrollToBottom from 'react-scroll-to-bottom';\nimport { css } from 'glamor';\nimport Users_component from './../components/users';\n\nconst CSS_SCROLL = css({\n    height: 400,\n    overflow: `auto`,\n    overflowX:`hidden`\n});\n\nconst styles = {\n    container: {\n        backgroundColor: \"white\",\n        height: \"570px\",\n        position: \"fixed\",\n        top: \"50%\",\n        left: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        borderRadius: \"6px\",\n        textAlign: \"center\",\n        maxWidth: \"600px\",\n        minWidth: \"20%\",\n        padding: \"0\"\n    },\n    topbar: {\n        position: \"relative\",\n        backgroundColor: \"#3f51b5\",\n        border: \"2px solid white\",\n        borderRadius: \"6px\",\n        height: \"60px\",\n        width: \"100%\",\n    },\n    pastille: {\n        color: \"#a8ffa8\",\n    },\n    pseudo: {\n        color: \"white\",\n        position: \"absolute\",\n        top: \"0%\",\n        left: \"0%\",\n        paddingLeft: \"30px\",\n        marginTop: \"15px\",\n        fontSize: \"20px\"\n    },\n    close: {\n        position: \"absolute\",\n        top: \"0%\",\n        right: \"0%\",\n        height: \"15px\",\n        width: \"15px\",\n        paddingTop: \"5px\",\n        paddingRight: \"5px\"\n    },\n    people:{\n        position: \"absolute\",\n        top: \"0%\",\n        right: \"0%\",\n        height: \"20px\",\n        width: \"20px\",\n        paddingTop: \"5px\",\n        paddingRight: \"35px\"\n    },\n    sub_container: {\n        position: \"absolute\",\n        padding: \"0\"\n    },\n    hr: {\n        padding: \"0\",\n    },\n    input_container: {\n        position: \"relative\",\n        padding: \"0\",\n    },\n    input: {\n        position: \"absolute\",\n        left: \"0%\",\n        width:\"68%\",\n        paddingLeft: \"10px\",\n        marginRight: \"20px\",\n    },\n    button: {\n        position: \"absolute\",\n        right: \"0%\",\n        marginRight: \"10px\",\n        height: \"76px\",\n        width:\"25%\"\n    },\n    messages: {\n        overflowY: \"scroll\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"400px\",\n        overflowX: \"hidden\"\n    },\n    incomingMessage: {\n        borderRadius: \"8px\",\n        backgroundColor: \"#1982FC\",\n        minHeight: \"20px\",\n        width: \"100px\",\n        textAlign: \"center\",\n        padding: \"20px 5px 20px 5px\",\n    },\n    adminMessage: {\n        borderRadius: \"8px\",\n        backgroundColor: \"rgb(236, 236, 236)\",\n        minHeight: \"20px\",\n        width: \"100px\",\n        textAlign: \"center\",\n        padding: \"20px 5px 20px 5px\",\n    },\n    myMessage: {\n        borderRadius: \"8px\",\n        backgroundColor: \"#43CC47\",\n        minHeight: \"20px\",\n        width: \"100px\",\n        textAlign: \"center\",\n        padding: \"20px 5px 20px 5px\",\n    },\n    incomingMessageList: {\n        height: \"100%\",\n        marginTop: \"5px\"\n    },\n    myMessageList: {\n        height: \"100%\",\n        marginRight: \"10px\"\n    },\n    pseudoMymessage: {\n        position: \"absolute\",\n        marginTop: \"20px\",\n        color: \"#a2a2a2\",\n        fontSize: \"15px\",\n        marginLeft: \"-40px\"\n\n    },\n    pseudoIncomingMessage: {\n        position: \"absolute\",\n        marginTop: \"-40px\",\n        color: \"#a2a2a2\",\n        fontSize: \"15px\",\n        marginLeft: \"110px\"\n    },\n    itemIncomingMessage: {\n        position: \"relative\",\n        marginLeft: \"20px\",\n        marginBottom: \"-60px\"\n    },\n    itemMyMessage: {\n        position: \"relative\",\n        marginRight: \"50px\",\n        minHeight: \"0px\",\n    },\n    containerItemMyMessage: {\n        position: \"absolute\",\n        right: \"0%\"\n    }\n}\n\nlet socket;\n\nconst Chat_component = ({location}) => {\n    const router = useRouter();\n    const [name, setName] = useState(\"\");\n    const [room, setRoom] = useState(\"\");\n    const [messages, setMessages] = useState([]);\n    const [message, setMessage] = useState([]);\n    const [openModal, setOpenModal] = useState(true);\n    const ENDPOINT = \"localhost:8080\";\n    const [listUsers, setListUsers] = useState([]);\n\n    useEffect(() => {\n        const { name,room } = router.query;\n        socket = io(ENDPOINT);\n \n        if((name != undefined) && (room != undefined)){\n            setName(name);\n            setRoom(room);\n\n            socket.emit('join', { name,room }, (error) => {\n                if(error)\n                    console.log(`error : ${error}`);\n            })\n        }\n        \n        return () => {\n            if((name != undefined) && (room != undefined)){\n                socket.emit('disconnect');\n                socket.disconnect();\n            }\n        };\n\n    },[router,ENDPOINT]);\n\n    useEffect(()=>{\n        socket.on('newMessage', (message) => {\n            setMessages(messages => [...messages, message]);\n        })\n\n        socket.on('listUsers', (data) =>{\n            setListUsers(data.users);\n        })\n\n    },[router]);\n\n    useEffect(() => {\n        console.log(\"valeur changer\",listUsers)\n    },[listUsers])\n\n    useEffect(() => {\n    console.log(\"state modale a changer\")\n    }, [openModal]);\n\n    const sendMessage = (e) => {\n        e.preventDefault();\n\n        if(message != \"\" && room != undefined && name != undefined){\n            socket.emit('sendMessage', ( {user: name, text: message} ), () => {\n                setMessage('');\n            });\n\n            \n       }\n    }\n\n    const disconnect = (e) => {\n        e.preventDefault();\n\n        socket.emit('disconnect');\n        socket.disconnect();\n        router.push(`/join`)\n    }\n    return (<div>\n        <Container style={styles.container}>\n            <Container style={styles.sub_container}>\n                <Container style={styles.topbar}>\n                    <p style={styles.pseudo}><span style={styles.pastille}>• </span>{name}</p>\n                    <img style={styles.people} src=\"/images/people.png\" onClick={() => setOpenModal(!openModal)}></img>\n                    <img style={styles.close} src=\"/images/close.png\" onClick={(e) => disconnect(e) }>\n                    </img>\n                </Container>\n\n                <Grid container style={styles.messages}>\n                <ScrollToBottom id=\"scrollToBottom\" className={`${CSS_SCROLL}`}>\n\n                    <Grid container style={styles.incomingMessageList} direction=\"column\" spacing={8} wrap=\"nowrap\">\n                            {messages.map((message, i) => {\n                                    if(message.user == name.trim().toLowerCase()){\n                                        return( <Grid item key={i} id={`inboxMessage${i}`} style={styles.itemIncomingMessage} xs={12}>\n                                            <Grid container key={`${i}2`} style={styles.containerItemIncomingMessage}>\n                                    <Grid item key={`${i}3`} style={styles.incomingMessage}>{message.text}</Grid>\n                                                <Grid key={`${i}4`} item style={styles.pseudoIncomingMessage}>{message.user}</Grid>\n                                            </Grid>\n                                        </Grid>)\n                                    }\n                                    else if (message.user == \"admin\"){\n                                        return( <Grid item key={i} id={`inboxMessage${i}`} style={styles.itemIncomingMessage} xs={12}>\n                                            <Grid container key={`${i}2`} style={styles.containerItemIncomingMessage}>\n                                    <Grid item key={`${i}3`} style={styles.adminMessage}>{message.text}</Grid>\n                                                <Grid key={`${i}4`} item style={styles.pseudoIncomingMessage}>Admin</Grid>\n                                            </Grid>\n                                        </Grid>)\n                                    }\n                                    else{\n                                        return (<Grid item  key={i} id={`myMessage${i}`} style={styles.itemMyMessage} xs={12}>\n                                            <Grid item container key={`${i}2`} style={styles.containerItemMyMessage}>\n                                                <Grid item key={`${i}3`} style={styles.pseudoMymessage}>{message.user}</Grid>\n                                                <Grid item key={`${i}4`} style={styles.myMessage}>{message.text}</Grid>\n                                            </Grid>\n                                        </Grid>)\n                                    }\n                                })}\n                    </Grid>\n\n                    </ScrollToBottom>\n\n                </Grid>\n\n                <Users_component users={listUsers} open={openModal}>\n            </Users_component>\n                <Grid container style={styles.input_container} fluid=\"true\"  diction=\"row\" >\n                    <hr style={styles.hr}></hr>\n                    <Grid item xs={12}>\n                        <TextField\n                            id=\"outlined-multiline-static\"\n                            label=\"Message\"\n                            multiline\n                            rows={2}\n                            variant=\"filled\"\n                            style={styles.input}\n                            onChange={(e) => setMessage(e.target.value)}\n                            value={message}\n                            onKeyPress={(e) => (e.key === \"Enter\") ? sendMessage(e) : null }\n                        />\n                    </Grid>\n              \n                    <Grid item xs={6}>\n                        <Button\n                            id=\"\"\n                            label=\"Entrer\"\n                            color=\"primary\"\n                            size=\"large\"\n                            variant=\"contained\"\n                            style={styles.button}\n                            onClick={(e) => sendMessage(e)}\n                        >Envoyer</Button>\n                    </Grid>\n                    \n                  \n                </Grid>\n            </Container>\n        </Container>\n    </div>)\n};\n\nexport default Chat_component;"]},"metadata":{},"sourceType":"module"}